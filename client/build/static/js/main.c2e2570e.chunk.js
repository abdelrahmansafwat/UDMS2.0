(this["webpackJsonpgovdas-frontend"]=this["webpackJsonpgovdas-frontend"]||[]).push([[0],{234:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),r=a.n(i),c=a(16),l=a.n(c),o=a(116),s=a(80),d=a(81),u=a(99),j=a(98),b=a(20),p=a(5),h=a(65),m=a(291),O=a(76),g=a(273),f=a(177),x=a(239),v=a(176),C=a(271),w=a(282),y=a(290),N=a(95),k=a.n(N),S=a(61),B=a(44),D=a(272),_=a(277),T=a(281),P=a(279),V=a(280),I=a(278),A=a(235),R=a(34),U=Object(R.a)(),W=a(111),q=r.a.forwardRef((function Transition(e,t){return Object(n.jsx)(A.a,Object(h.a)({direction:"up",ref:t},e))}));function Copyright(){return Object(n.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(C.a,{color:"inherit",href:"http://www.eelu.edu.eg/",children:"National Egyptian E-Learning University"})," ",(new Date).getFullYear(),"."]})}var E=Object(B.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function SignIn(){var e=E(),t=Object(i.useState)(""),a=Object(p.a)(t,2),r=a[0],c=a[1],l=Object(i.useState)(""),o=Object(p.a)(l,2),s=o[0],d=o[1],u=Object(i.useState)(!1),j=Object(p.a)(u,2),b=j[0],h=j[1],N=Object(i.useState)(!1),B=Object(p.a)(N,2),A=B[0],R=B[1],L=Object(i.useState)(!1),F=Object(p.a)(L,2),M=F[0],$=F[1],z=Object(i.useState)(""),H=Object(p.a)(z,2),Y=H[0],G=H[1];return Object(n.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(m.a,{className:e.avatar,children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(n.jsx)(f.a,{error:b,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:b?"Required":"",onChange:function onChange(e){""===e.target.value?h(!0):(h(!1),c(e.target.value))},onBlur:function onBlur(){""===r&&h(!0)},autoFocus:!0}),Object(n.jsx)(f.a,{error:A,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",helperText:A?"Required":"",onChange:function onChange(e){""===e.target.value?R(!0):(R(!1),d(e.target.value))},onBlur:function onBlur(){""===s&&R(!0)},autoComplete:"current-password"}),Object(n.jsx)(x.a,{control:Object(n.jsx)(v.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),r&&s?(W.create({baseURL:window.location.origin}),W.post("/api/user/login",{email:r,password:s}).then((function(e){console.log(e),U.push({pathname:"/dashboard",state:{privilege:e.data.privilege,firstName:e.data.firstName,lastName:e.data.lastName,email:e.data.email}})})).catch((function(e){console.log(e),"Request failed with status code 401"===e.message?(G("Wrong email/password."),$(!0),h(!0),d(!0)):G("An error occured. Please try again.")}))):(G("Please fill all required fields."),$(!0))},children:"Sign In"}),Object(n.jsxs)(_.a,{open:M,TransitionComponent:q,keepMounted:!0,onClose:function onClose(){return $(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(I.a,{id:"alert-dialog-slide-title",children:"Error"}),Object(n.jsx)(P.a,{children:Object(n.jsx)(V.a,{id:"alert-dialog-slide-description",children:Y})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(O.a,{onClick:function onClick(){return $(!1)},color:"primary",children:"Close"})})]}),Object(n.jsxs)(w.a,{container:!0,children:[Object(n.jsx)(w.a,{item:!0,xs:!0,children:Object(n.jsx)(C.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(w.a,{item:!0,children:Object(n.jsx)(C.a,{href:"#",variant:"body2",onClick:function onClick(){return U.push("/register")},children:"Don't have an account? Sign Up"})})]})]})]}),Object(n.jsx)(y.a,{mt:8,children:Object(n.jsx)(Copyright,{})})]})}var L=a(111),F=r.a.forwardRef((function Transition(e,t){return Object(n.jsx)(A.a,Object(h.a)({direction:"up",ref:t},e))}));function Register_Copyright(){return Object(n.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(C.a,{color:"inherit",href:"http://www.eelu.edu.eg/",children:"National Egyptian E-Learning University"})," ",(new Date).getFullYear(),"."]})}var M=Object(B.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function SignUp(){var e=M(),t=Object(i.useState)(""),a=Object(p.a)(t,2),r=a[0],c=a[1],l=Object(i.useState)(""),o=Object(p.a)(l,2),s=o[0],d=o[1],u=Object(i.useState)(""),j=Object(p.a)(u,2),b=j[0],h=j[1],x=Object(i.useState)(""),v=Object(p.a)(x,2),N=v[0],B=v[1],A=Object(i.useState)(!1),R=Object(p.a)(A,2),W=R[0],q=R[1],E=Object(i.useState)(!1),$=Object(p.a)(E,2),z=$[0],H=$[1],Y=Object(i.useState)(!1),G=Object(p.a)(Y,2),J=G[0],K=G[1],X=Object(i.useState)(!1),Q=Object(p.a)(X,2),Z=Q[0],ee=Q[1],te=Object(i.useState)(!1),ae=Object(p.a)(te,2),ne=ae[0],ie=ae[1],re=Object(i.useState)(""),ce=Object(p.a)(re,2),le=ce[0],oe=ce[1];return Object(n.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{}),Object(n.jsxs)("div",{className:e.paper,children:[Object(n.jsx)(m.a,{className:e.avatar,children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(S.a,{component:"h1",variant:"h5",children:"Register"}),Object(n.jsx)("form",{className:e.form,noValidate:!0,children:Object(n.jsxs)(w.a,{container:!0,spacing:2,children:[Object(n.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(f.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,error:J,id:"firstName",label:"First Name",autoFocus:!0,onChange:function onChange(e){""===e.target.value?K(!0):(K(!1),h(e.target.value))},onBlur:function onBlur(){""===b&&K(!0)}})}),Object(n.jsx)(w.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,error:Z,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function onChange(e){""===e.target.value?ee(!0):(ee(!1),B(e.target.value))},onBlur:function onBlur(){""===N&&ee(!0)}})}),Object(n.jsx)(w.a,{item:!0,xs:12,children:Object(n.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,error:W,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function onChange(e){""===e.target.value?q(!0):(q(!1),c(e.target.value))},onBlur:function onBlur(){""===r&&q(!0)}})}),Object(n.jsx)(w.a,{item:!0,xs:12,children:Object(n.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,error:z,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function onChange(e){""===e.target.value?H(!0):(H(!1),d(e.target.value))},onBlur:function onBlur(){""===s&&H(!0)}})}),Object(n.jsx)(O.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),r&&s&&b&&N?(L.create({baseURL:window.location.origin}),L.post("/api/user/register",{email:r,password:s,firstName:b,lastName:N}).then((function(e){console.log(e),U.push({pathname:"/dashboard",state:{privilege:e.data.privilege}})})).catch((function(e){console.log(e),"Request failed with status code 409"===e.message?(oe("Email already exists."),ie(!0),q(!0),d(!0)):oe("An error occured. Please try again.")}))):(oe("Please fill all required fields."),ie(!0))},children:"Register"}),Object(n.jsxs)(_.a,{open:ne,TransitionComponent:F,keepMounted:!0,onClose:function onClose(){return ie(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(I.a,{id:"alert-dialog-slide-title",children:"Error"}),Object(n.jsx)(P.a,{children:Object(n.jsx)(V.a,{id:"alert-dialog-slide-description",children:le})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(O.a,{onClick:function onClick(){return ie(!1)},color:"primary",children:"Close"})})]}),Object(n.jsx)(w.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(w.a,{item:!0,children:Object(n.jsx)(C.a,{href:"#",variant:"body2",onClick:function onClick(){return U.push("/login")},children:"Already have an account? Login"})})})]})})]}),Object(n.jsx)(y.a,{mt:5,children:Object(n.jsx)(Register_Copyright,{})})]})}var $=a(14),z=a.n($),H=a(24),Y=a(27),G=a(4),J=a(286),K=a(285),X=a(284),Q=a(238),Z=a(287),ee=a(69),te=a(75),ae=a(156),ne=a.n(ae),ie=a(158),re=a.n(ie),ce=a(240),le=a(242),oe=a(288),se=a(157),de=a.n(se),ue=a(160),je=a.n(ue),be=a(161),pe=a.n(be),he=a(165),me=a.n(he),Oe=a(162),ge=a.n(Oe),fe=a(117),xe=a(159),ve=a.n(xe),Ce=a(274),we=a(128),ye=a(70),Ne=a(85),ke=a(125),Se=a(292),Be=a(166),De=a.n(Be),_e=a(164),Te=a.n(_e),Pe=a(163),Ve=a.n(Pe),Ie=a(167),Ae=a(29),Re=a(289),Ue=a(283),We=a(72),qe=a(243),Ee=a(60),Le=a(111),Fe={palette:{type:"light"}},Me={palette:{type:"dark"}},$e=r.a.forwardRef((function Transition(e,t){return Object(n.jsx)(A.a,Object(h.a)({direction:"up",ref:t},e))}));function Dashboard_Copyright(){return Object(n.jsxs)(S.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(C.a,{color:"inherit",href:"http://www.eelu.edu.eg/",children:"National Egyptian E-Learning University"})," ",(new Date).getFullYear(),"."]})}function Dashboard(){var e=Object(B.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Y.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"hidden",flexDirection:"column",height:"75vh"},fixedHeight:{height:240},dflex:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},paperChips:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:0},chip:{margin:e.spacing(.5)}}}))(),t=r.a.useState(!0),a=Object(p.a)(t,2),c=a[0],l=a[1],o=Object(i.useState)(U.location.state.privilege),s=Object(p.a)(o,2),d=s[0],u=(s[1],Object(i.useState)("")),j=Object(p.a)(u,2),b=j[0],m=j[1],x=Object(i.useState)([]),C=Object(p.a)(x,2),N=C[0],k=C[1],A=Object(i.useState)(!1),R=Object(p.a)(A,2),W=R[0],q=R[1],E=Object(i.useState)(!1),L=Object(p.a)(E,2),F=L[0],M=L[1],$=Object(i.useState)(!1),ae=Object(p.a)($,2),ie=ae[0],se=ae[1],ue=Object(i.useState)(!1),be=Object(p.a)(ue,2),he=be[0],Oe=be[1],xe=Object(i.useState)(!1),Be=Object(p.a)(xe,2),_e=Be[0],Pe=Be[1],ze=Object(i.useState)({}),He=Object(p.a)(ze,2),Ye=He[0],Ge=He[1],Je=Object(i.useState)(""),Ke=Object(p.a)(Je,2),Xe=Ke[0],Qe=Ke[1],Ze=Object(i.useState)(""),et=Object(p.a)(Ze,2),tt=et[0],at=et[1],nt=Object(i.useState)(""),it=Object(p.a)(nt,2),rt=(it[0],it[1]),ct=Object(i.useState)(new Date),lt=Object(p.a)(ct,2),ot=lt[0],st=lt[1],dt=Object(i.useState)([]),ut=Object(p.a)(dt,2),jt=ut[0],bt=ut[1],pt=Object(i.useState)([]),ht=Object(p.a)(pt,2),mt=ht[0],Ot=ht[1],gt=Object(i.useState)([]),ft=Object(p.a)(gt,2),xt=ft[0],vt=ft[1],Ct=Object(i.useState)([]),wt=Object(p.a)(Ct,2),yt=wt[0],Nt=wt[1],kt=Object(i.useState)(!1),St=Object(p.a)(kt,2),Bt=St[0],Dt=St[1],_t=Object(i.useState)(!1),Tt=Object(p.a)(_t,2),Pt=Tt[0],Vt=Tt[1],It=Object(i.useState)(!1),At=Object(p.a)(It,2),Rt=(At[0],At[1]),Ut=Object(i.useState)(!1),Wt=Object(p.a)(Ut,2),qt=(Wt[0],Wt[1]),Et=Object(i.useState)("Add"),Lt=Object(p.a)(Et,2),Ft=Lt[0],Mt=Lt[1],$t=Object(i.useState)({}),zt=Object(p.a)($t,2),Ht=zt[0],Yt=zt[1],Gt=Object(i.useState)(""),Jt=Object(p.a)(Gt,2),Kt=Jt[0],Xt=Jt[1],Qt=Object(i.useState)(!1),Zt=Object(p.a)(Qt,2),ea=Zt[0],ta=Zt[1],aa=Object(i.useState)(!0),na=Object(p.a)(aa,2),ia=na[0],ra=na[1],ca=Object(i.useState)(""),la=Object(p.a)(ca,2),oa=la[0],sa=la[1],da=Object(i.useState)(""),ua=Object(p.a)(da,2),ja=ua[0],ba=ua[1],pa=Object(i.useState)(!1),ha=Object(p.a)(pa,2),ma=ha[0],Oa=ha[1],ga=Object(i.useState)(!1),fa=Object(p.a)(ga,2),xa=fa[0],va=fa[1],Ca=Object(i.useState)(!1),wa=Object(p.a)(Ca,2),ya=wa[0],Na=wa[1],ka=Object(i.useState)([]),Sa=Object(p.a)(ka,2),Ba=Sa[0],Da=Sa[1],_a=Object(i.useState)(U.location.state.firstName),Ta=Object(p.a)(_a,2),Pa=Ta[0],Va=Ta[1],Ia=Object(i.useState)(U.location.state.lastName),Aa=Object(p.a)(Ia,2),Ra=Aa[0],Ua=Aa[1],Wa=Object(i.useState)(U.location.state.email),qa=Object(p.a)(Wa,2),Ea=qa[0],La=qa[1],Fa=Object(i.useState)(""),Ma=Object(p.a)(Fa,2),$a=Ma[0],za=Ma[1],Ha=Object(i.useState)(!1),Ya=Object(p.a)(Ha,2),Ga=Ya[0],Ja=Ya[1],Ka=Object(i.useState)(""),Xa=Object(p.a)(Ka,2),Qa=Xa[0],Za=Xa[1],en=Object(i.useState)(""),tn=Object(p.a)(en,2),an=tn[0],nn=tn[1],rn=Object(Ee.b)().control,cn={PaperProps:{style:{maxHeight:224,width:250}}},ln=Object(We.a)(ia?Fe:Me),on={items:[{columnField:"title",operatorValue:"contains",value:""}]},sn=[{field:"id",headerName:"ID",width:70,filterable:!1},{field:"title",headerName:"Title",width:130},{field:"issuedby",headerName:"Issued By",width:130},{field:"summary",headerName:"Summary",width:130},{field:"date",headerName:"Date",type:"date",width:130},{field:"tags",headerName:"Tags",width:130},{field:"viewButton",headerName:"View",width:130,disableClickEventBubbling:!0,filterable:!1,sortable:!1,renderCell:function renderCell(e){var t=e.row.id,a=function(){var e=Object(H.a)(z.a.mark((function _callee(){var e;return z.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:console.log("Viewing decision #"+t),(e=N[t-1]).imageBase64="https://govdas.s3.eu-central-1.amazonaws.com/"+e.image,Ge(e),M(!0);case 5:case"end":return a.stop()}}),_callee)})));return function onClick(){return e.apply(this,arguments)}}();return Object(n.jsx)(O.a,{variant:"contained",onClick:function onClick(){return a()},disabled:d<2,children:"View"})}},{field:"updateButton",headerName:"Update",width:130,disableClickEventBubbling:!0,sortable:!1,filterable:!1,renderCell:function renderCell(e){var t=function(){var t=Object(H.a)(z.a.mark((function _callee2(){return z.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:Qe(e.row.title),at(e.row.summary),vt(e.row.tags),rt(e.row.issuedby),st(e.row.date),nn(e.row._id),Mt("Update"),Dt(!1),Vt(!1),qt(!1),Rt(!1),se(!0);case 12:case"end":return t.stop()}}),_callee2)})));return function onClick(){return t.apply(this,arguments)}}();return Object(n.jsx)(O.a,{variant:"contained",color:"primary",onClick:function onClick(){return t()},disabled:d<2,children:"Update"})}},{field:"deleteButton",headerName:"Delete",width:130,disableClickEventBubbling:!0,sortable:!1,filterable:!1,renderCell:function renderCell(e){var t=e.row.id,a=function(){var e=Object(H.a)(z.a.mark((function _callee3(){var e,a;return z.a.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:console.log("Viewing decision #"+t),e=N[t-1],a=N,Le.post("/api/upload_decisions/delete",{_id:e._id,oldimage:e.image}).then((function(e){console.log(e),console.log(a.length),a.splice(t-1,1),console.log(a.length),k(a)})).catch((function(e){console.log(e),e&&(m("An error occured. Please try again."),q(!0))}));case 4:case"end":return n.stop()}}),_callee3)})));return function onClick(){return e.apply(this,arguments)}}();return Object(n.jsx)(O.a,{variant:"contained",color:"secondary",onClick:function onClick(){return a()},disabled:d<2,children:"Delete"})}}],dn=[{field:"id",headerName:"ID",width:70,filterable:!1},{field:"firstName",headerName:"First Name",width:130},{field:"lastName",headerName:"Last Name",width:130},{field:"privilege",headerName:"Privilege",width:130},{field:"updateButton",headerName:"Update",width:130,disableClickEventBubbling:!0,sortable:!1,filterable:!1,renderCell:function renderCell(e){var t=function(){var t=Object(H.a)(z.a.mark((function _callee4(){return z.a.wrap((function _callee4$(t){for(;;)switch(t.prev=t.next){case 0:Za(e.row._id),Va(e.row.firstName),Ua(e.row.lastName),La(e.row.email),za(e.row.privilege),console.log(e.row._id),Ja(!0);case 7:case"end":return t.stop()}}),_callee4)})));return function onClick(){return t.apply(this,arguments)}}();return Object(n.jsx)(O.a,{variant:"contained",color:"primary",onClick:function onClick(){return t()},disabled:d<2,children:"Update"})}},{field:"deleteButton",headerName:"Delete",width:130,disableClickEventBubbling:!0,sortable:!1,filterable:!1,renderCell:function renderCell(e){var t=e.row.id,a=function(){var e=Object(H.a)(z.a.mark((function _callee5(){var e,a;return z.a.wrap((function _callee5$(n){for(;;)switch(n.prev=n.next){case 0:console.log("Viewing decision #"+t),e=Ba[t-1],a=Ba,Le.post("/api/user/delete",{_id:e._id}).then((function(e){console.log(e),console.log(a.length),a.splice(t-1,1),console.log(a.length),Da(a)})).catch((function(e){console.log(e),e&&(m("An error occured. Please try again."),q(!0))}));case 4:case"end":return n.stop()}}),_callee5)})));return function onClick(){return e.apply(this,arguments)}}();return Object(n.jsx)(O.a,{variant:"contained",color:"secondary",onClick:function onClick(){return a()},disabled:d<2,children:"Delete"})}}],un=function(){var e=Object(H.a)(z.a.mark((function _callee6(){return z.a.wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:if(Oa(!1),!(d>0)){e.next=9;break}return Le.create({baseURL:window.location.origin}),e.next=5,Le.get("/api/retrieve_decisions/all").then((function(e){var t=e.data.decisions;t.forEach((function(e,a){t[a].id=a+1,t[a].date=new Date(t[a].date).toLocaleDateString(),t[a].updateButton=Object(n.jsx)(O.a,{variant:"contained",color:"primary",children:"Update"})})),console.log(t),k(t)})).catch((function(e){console.log(e),q(!0),m("An error occured. Please try again.")}));case 5:return e.next=7,Le.post("/api/var/retrieve",{name:"tags"}).then((function(e){var t=e.data.vars[0].vars;console.log(t),bt(t)})).catch((function(e){console.log(e),q(!0),m("An error occured. Please try again.")}));case 7:return e.next=9,Le.post("/api/var/retrieve",{name:"issuers"}).then((function(e){var t=e.data.vars[0].vars;console.log(t),Ot(t)})).catch((function(e){console.log(e),q(!0),m("An error occured. Please try again.")}));case 9:Oa(!0);case 10:case"end":return e.stop()}}),_callee6)})));return function getAllDecisions(){return e.apply(this,arguments)}}(),jn=function(){var e=Object(H.a)(z.a.mark((function _callee7(){return z.a.wrap((function _callee7$(e){for(;;)switch(e.prev=e.next){case 0:return Oa(!1),e.next=3,Le.get("/api/user/all").then((function(e){var t=e.data.users;t.forEach((function(e,a){t[a].id=a+1,0===t[a].privilege?t[a].privilege="None":1===t[a].privilege?t[a].privilege="View":2===t[a].privilege?t[a].privilege="View/Update":3===t[a].privilege&&(t[a].privilege="Admin")})),console.log(t),Da(t)})).catch((function(e){console.log(e),q(!0),m("An error occured. Please try again.")}));case 3:Oa(!0);case 4:case"end":return e.stop()}}),_callee7)})));return function getAllUsers(){return e.apply(this,arguments)}}();(function(){var e=Object(H.a)(z.a.mark((function _callee8(){return z.a.wrap((function _callee8$(e){for(;;)switch(e.prev=e.next){case 0:if(!_e){e.next=2;break}return e.abrupt("return");case 2:return Pe(!0),e.next=5,un();case 5:case"end":return e.stop()}}),_callee8)})));return function constructor(){return e.apply(this,arguments)}})()();var bn=function handleTagsDelete(e){return function(){vt((function(t){return t.filter((function(t){return t!==e}))}))}};return Object(n.jsx)(Ue.a,{theme:ln,children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(g.a,{}),Object(n.jsx)(K.a,{position:"absolute",className:Object(G.a)(e.appBar,c&&e.appBarShift),children:Object(n.jsxs)(X.a,{className:e.toolbar,children:[Object(n.jsx)(ee.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function handleDrawerOpen(){l(!0)},className:Object(G.a)(e.menuButton,c&&e.menuButtonHidden),children:Object(n.jsx)(ne.a,{})}),Object(n.jsx)(S.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Dashboard"}),Object(n.jsx)(ee.a,{color:"inherit",onClick:function onClick(){return ra(!ia)},children:Object(n.jsx)(de.a,{})})]})}),Object(n.jsxs)(J.a,{variant:"permanent",classes:{paper:Object(G.a)(e.drawerPaper,!c&&e.drawerPaperClose)},open:c,children:[Object(n.jsx)("div",{className:e.toolbarIcon,children:Object(n.jsx)(ee.a,{onClick:function handleDrawerClose(){l(!1)},children:Object(n.jsx)(re.a,{})})}),Object(n.jsx)(Z.a,{}),Object(n.jsx)(Q.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)(ce.a,{button:!0,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),ya?jn():un()},children:[Object(n.jsx)(le.a,{children:Object(n.jsx)(ve.a,{})}),Object(n.jsx)(oe.a,{primary:"Refresh"})]}),d>1&&Object(n.jsxs)(ce.a,{button:!0,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),Qe(""),at(""),vt([]),rt(""),st(new Date),Mt("Add"),Dt(!1),Vt(!1),qt(!1),Rt(!1),se(!0)},children:[Object(n.jsx)(le.a,{children:Object(n.jsx)(je.a,{})}),Object(n.jsx)(oe.a,{primary:"Add Decision"})]}),d>1&&Object(n.jsxs)(ce.a,{button:!0,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),Oe(!0)},children:[Object(n.jsx)(le.a,{children:Object(n.jsx)(pe.a,{})}),Object(n.jsx)(oe.a,{primary:"Add Tags/Issuers"})]})]})}),Object(n.jsx)(Z.a,{}),Object(n.jsx)(Q.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsxs)(ce.a,{button:!0,onClick:function onClick(e){e.preventDefault(),e.stopPropagation();var t="";0===U.location.state.privilege?t="None":1===U.location.state.privilege?t="View":2===U.location.state.privilege?t="View/Update":3===U.location.state.privilege&&(t="Admin"),Va(U.location.state.firstName),Ua(U.location.state.lastName),La(U.location.state.email),za(t),Ja(!0)},children:[Object(n.jsx)(le.a,{children:Object(n.jsx)(ge.a,{})}),Object(n.jsx)(oe.a,{primary:"User"})]}),d>1&&Object(n.jsxs)(ce.a,{button:!0,onClick:function onClick(e){jn(),Na(!0)},children:[Object(n.jsx)(le.a,{children:Object(n.jsx)(Ve.a,{})}),Object(n.jsx)(oe.a,{primary:"Admin"})]}),Object(n.jsxs)(ce.a,{button:!0,onClick:function onClick(e){un(),Na(!1)},children:[Object(n.jsx)(le.a,{children:Object(n.jsx)(Te.a,{})}),Object(n.jsx)(oe.a,{primary:"Decisions"})]}),Object(n.jsxs)(ce.a,{button:!0,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),U.push("/login")},children:[Object(n.jsx)(le.a,{children:Object(n.jsx)(me.a,{})}),Object(n.jsx)(oe.a,{primary:"Logout"})]})]})})]}),Object(n.jsxs)("main",{className:e.content,children:[Object(n.jsx)("div",{className:e.appBarSpacer}),Object(n.jsxs)(D.a,{maxWidth:"lg",className:e.container,children:[Object(n.jsxs)(te.a,{className:e.paper,children:[!ma&&Object(n.jsx)(qe.a,{style:{position:"absolute",left:"50%",top:"50%"}}),ma&&!ya&&Object(n.jsx)(fe.a,{rows:N,columns:sn,pageSize:5,checkboxSelection:!0,showToolbar:!0,filterModel:on}),ma&&ya&&Object(n.jsx)(fe.a,{rows:Ba,columns:dn,pageSize:5,checkboxSelection:!0,showToolbar:!0,filterModel:on})]}),Object(n.jsx)(y.a,{pt:4,children:Object(n.jsx)(Dashboard_Copyright,{})})]}),Object(n.jsxs)(_.a,{open:he,TransitionComponent:$e,keepMounted:!0,onClose:function onClose(){return Oe(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(I.a,{id:"alert-dialog-slide-title",children:"Add Tags or Issuers"}),Object(n.jsx)(P.a,{children:Object(n.jsxs)(w.a,{container:!0,direction:"column",spacing:1,className:e.dflex,children:[Object(n.jsx)(w.a,{item:!0,xs:6,children:Object(n.jsx)(Ee.a,{name:"newTagOrIssuer",as:Object(n.jsx)(f.a,{value:oa,variant:"outlined",margin:"normal",fullWidth:!0,id:"addTagIssuer",label:"Tag or Issuer",name:"addTagIssuer",onChange:function onChange(e){sa(e.target.value)}}),control:rn})}),Object(n.jsx)(w.a,{item:!0,xs:3,children:Object(n.jsx)(Ne.a,{variant:"outlined",fullWidth:!0,children:Object(n.jsxs)(ke.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:ja,onChange:function onChange(e){ba(e.target.value)},input:Object(n.jsx)(Ce.a,{id:"select-multiple-chip"}),MenuProps:cn,children:[Object(n.jsx)(ye.a,{value:"Tag",children:Object(n.jsx)(oe.a,{primary:"Tag"})},"Tag"),Object(n.jsx)(ye.a,{value:"Issuer",children:Object(n.jsx)(oe.a,{primary:"Issuer"})},"Issuer")]})})}),Object(n.jsx)(w.a,{item:!0,xs:3,children:Object(n.jsx)(O.a,{variant:"contained",color:"primary",component:"span",fullWidth:!0,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),Le.create({baseURL:window.location.origin}),Le.post("/api/var/update",{name:ja.toLowerCase()+"s",var:rn.getValues().newTagOrIssuer}).then((function(e){if(Oe(!1),"Tag"===ja){var t=jt;t.push(oa),bt(t)}else{var a=mt;a.push(oa),Ot(a)}})).catch((function(e){console.log(e),e&&(m("An error occured. Please try again."),q(!0))}))},children:"Submit"})})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(O.a,{onClick:function onClick(){return Oe(!1)},color:"primary",children:"Close"})})]}),Object(n.jsxs)(_.a,{fullScreen:!0,open:F,onClose:function onClose(){return M(!1)},TransitionComponent:$e,children:[Object(n.jsx)(K.a,{className:e.appBar,children:Object(n.jsxs)(X.a,{children:[Object(n.jsx)(ee.a,{edge:"start",color:"inherit",onClick:function onClick(){return M(!1)},"aria-label":"close",children:Object(n.jsx)(De.a,{})}),Object(n.jsx)(S.a,{variant:"h6",className:e.title,children:"View Decision"})]})}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)("img",{alt:"decision",src:Ye.imageBase64}),Object(n.jsx)(ce.a,{button:!0,children:Object(n.jsx)(oe.a,{primary:"Title",secondary:Ye.title})}),Object(n.jsx)(Z.a,{}),Object(n.jsx)(ce.a,{button:!0,children:Object(n.jsx)(oe.a,{primary:"Issued By",secondary:Ye.issuedby})}),Object(n.jsx)(Z.a,{}),Object(n.jsx)(ce.a,{button:!0,children:Object(n.jsx)(oe.a,{primary:"Summary",secondary:Ye.summary})}),Object(n.jsx)(Z.a,{}),Object(n.jsx)(ce.a,{button:!0,children:Object(n.jsx)(oe.a,{primary:"Date",secondary:Ye.date})}),Object(n.jsx)(Z.a,{}),Object(n.jsx)(ce.a,{button:!0,children:Object(n.jsx)(oe.a,{primary:"Tags",secondary:Ye.tags&&Ye.tags.map((function(t){return Object(n.jsx)("li",{children:Object(n.jsx)(Se.a,{label:t,className:e.chip})},t)}))})}),Object(n.jsx)(Z.a,{})]})]}),Object(n.jsxs)(_.a,{open:ie,onClose:function onClose(){return se(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(I.a,{id:"form-dialog-title",children:Ft}),Object(n.jsxs)(P.a,{children:[Object(n.jsx)(Ee.a,{name:"title",as:Object(n.jsx)(f.a,{error:Bt,value:Xe,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoComplete:"title",helperText:Bt?"Required":"",onChange:function onChange(e){""===e.target.value?(Dt(!0),Qe(e.target.value)):(Dt(!1),Qe(e.target.value))},onBlur:function onBlur(){""===Xe&&Dt(!0)},autoFocus:!0}),control:rn}),Object(n.jsxs)(Ne.a,{variant:"outlined",fullWidth:!0,children:[Object(n.jsx)(we.a,{id:"demo-simple-select-outlined-label",children:"Issuer"}),Object(n.jsx)(ke.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:yt,onChange:function onChange(e){Nt(e.target.value)},input:Object(n.jsx)(Ce.a,{id:"select-multiple-chip"}),MenuProps:cn,children:mt.map((function(e){return Object(n.jsx)(ye.a,{value:e,children:Object(n.jsx)(oe.a,{primary:e})},e)}))})]}),Object(n.jsx)(Ee.a,{name:"summary",as:Object(n.jsx)(f.a,{error:Pt,value:tt,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,multiline:!0,id:"summary",label:"Summary",name:"summary",autoComplete:"summary",helperText:Pt?"Required":"",onChange:function onChange(e){""===e.target.value?(Vt(!0),at(e.target.value)):(Vt(!1),at(e.target.value))},onBlur:function onBlur(){""===tt&&Vt(!0)}}),control:rn}),Object(n.jsxs)(Ne.a,{variant:"outlined",fullWidth:!0,children:[Object(n.jsx)(we.a,{id:"demo-simple-select-outlined-label",children:"Tags"}),Object(n.jsx)(ke.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:xt,renderValue:function renderValue(e){return e.join(", ")},onChange:function onChange(e){vt(e.target.value)},input:Object(n.jsx)(Ce.a,{id:"select-multiple-chip"}),MenuProps:cn,children:jt.map((function(e){return Object(n.jsxs)(ye.a,{value:e,children:[Object(n.jsx)(v.a,{checked:xt.indexOf(e)>-1}),Object(n.jsx)(oe.a,{primary:e})]},e)}))})]}),Object(n.jsx)(te.a,{component:"ul",className:e.paperChips,children:xt.map((function(t){return Object(n.jsx)("li",{children:Object(n.jsx)(Se.a,{label:t,className:e.chip,onDelete:bn(t)})},t)}))}),Object(n.jsx)(Ae.a,{utils:Ie.a,children:Object(n.jsx)(Re.a,{disableToolbar:!0,fullWidth:!0,variant:"outlined",margin:"normal",id:"date",label:"Date",value:ot,onChange:function onChange(e){return st(e)},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(n.jsxs)(w.a,{container:!0,direction:"column",spacing:1,className:e.dflex,children:[Object(n.jsx)(w.a,{item:!0,xs:9,children:Object(n.jsx)(f.a,{error:ea,value:Kt,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,disabled:!0,id:"image",label:"Image",name:"image",helperText:ea?"Required":"",onChange:function onChange(e){""===e.target.value?ta(!0):ta(!1)}})}),Object(n.jsxs)(w.a,{item:!0,xs:3,children:[Object(n.jsx)("input",{accept:"image/*",className:e.input,id:"contained-button-file",type:"file",style:{display:"none"},onChange:function onChange(e){Yt(e.target.files[0]),Xt(e.target.files[0].name)}}),Object(n.jsx)("label",{htmlFor:"contained-button-file",children:Object(n.jsx)(O.a,{variant:"contained",color:"primary",component:"span",fullWidth:!0,children:"Browse"})})]})]})]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)(O.a,{onClick:function onClick(){return se(!1)},variant:"contained",children:"Cancel"}),Object(n.jsxs)(O.a,{onClick:function onClick(){console.log(rn.getValues()),va(!0);var e="new",t=new FormData;t.append("file",Ht),t.append("title",rn.getValues().title),t.append("summary",rn.getValues().summary),t.append("tags",xt),t.append("issuedby",yt),t.append("date",ot),"Update"===Ft&&(e="update",t.append("_id",an)),Le.create({baseURL:window.location.origin}),Le.post("/api/upload_decisions/"+e,t).then((function(e){console.log(e),va(!1),se(!1)})).catch((function(e){console.log(e),e&&(va(!1),se(!1),m("An error occured. Please try again."),q(!0))}))},color:"primary",variant:"contained",children:[!xa&&Ft,xa&&Object(n.jsx)(qe.a,{color:"secondary",size:20})]})]})]}),Object(n.jsxs)(_.a,{open:Ga,onClose:function onClose(){return Ja(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(I.a,{id:"form-dialog-title",children:"Update User"}),Object(n.jsxs)(P.a,{children:[Object(n.jsx)(Ee.a,{name:"firstName",defaultValue:Pa,as:Object(n.jsx)(f.a,{value:Pa,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"firstName",onChange:function onChange(e){""===e.target.value||Va(e.target.value)},onBlur:function onBlur(){},autoFocus:!0}),control:rn}),Object(n.jsx)(Ee.a,{name:"lastName",defaultValue:Ra,as:Object(n.jsx)(f.a,{value:Ra,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lastName",onChange:function onChange(e){""===e.target.value||Ua(e.target.value)},onBlur:function onBlur(){}}),control:rn}),Object(n.jsx)(Ee.a,{name:"email",defaultValue:Ea,as:Object(n.jsx)(f.a,{value:Ea,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",onChange:function onChange(e){""===e.target.value||La(e.target.value)},onBlur:function onBlur(){}}),control:rn}),Object(n.jsxs)(Ne.a,{variant:"outlined",fullWidth:!0,children:[Object(n.jsx)(we.a,{id:"demo-simple-select-outlined-label",children:"Privilege"}),Object(n.jsxs)(ke.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",value:$a,defaultValue:$a,disabled:d<2,onChange:function onChange(e){za(e.target.value)},input:Object(n.jsx)(Ce.a,{id:"select-multiple-chip"}),MenuProps:cn,children:[Object(n.jsx)(ye.a,{value:"None",children:Object(n.jsx)(oe.a,{primary:"None"})},"None"),Object(n.jsx)(ye.a,{value:"View",children:Object(n.jsx)(oe.a,{primary:"View"})},"View"),Object(n.jsx)(ye.a,{value:"View/Update",children:Object(n.jsx)(oe.a,{primary:"View/Update"})},"View/Update"),Object(n.jsx)(ye.a,{value:"Admin",children:Object(n.jsx)(oe.a,{primary:"Admin"})},"Admin")]})]}),Object(n.jsxs)(T.a,{children:[Object(n.jsx)(O.a,{onClick:function onClick(){return Ja(!1)},variant:"contained",children:"Cancel"}),Object(n.jsxs)(O.a,{onClick:function onClick(){var e=0;"Add"===$a?e=1:"Add/Update"===$a?e=2:"Admin"===$a&&(e=3);var t=new FormData;t.append("firstName",rn.getValues().firstName),t.append("lastName",rn.getValues().lastName),t.append("email",rn.getValues().email),t.append("privilege",e),t.append("_id",Qa),console.log(rn.getValues().firstName),Le.create({baseURL:window.location.origin}),Le.post("/api/user/update",{firstName:rn.getValues().firstName,lastName:rn.getValues().lastName,email:rn.getValues().email,privilege:e,_id:Qa}).then((function(e){console.log(e),va(!1),Ja(!1)})).catch((function(e){console.log(e),e&&(va(!1),Ja(!1),m("An error occured. Please try again."),q(!0))}))},color:"primary",variant:"contained",children:[!xa&&"Update",xa&&Object(n.jsx)(qe.a,{color:"secondary",size:20})]})]})]})]}),Object(n.jsxs)(_.a,{open:W,TransitionComponent:$e,keepMounted:!0,onClose:function onClose(){return q(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(I.a,{id:"alert-dialog-slide-title",children:"Error"}),Object(n.jsx)(P.a,{children:Object(n.jsx)(V.a,{id:"alert-dialog-slide-description",children:b})}),Object(n.jsx)(T.a,{children:Object(n.jsx)(O.a,{onClick:function onClick(){return q(!1)},color:"primary",children:"Close"})})]})]})]})})}var ze=function(e){Object(u.a)(Routes,e);var t=Object(j.a)(Routes);function Routes(){return Object(s.a)(this,Routes),t.apply(this,arguments)}return Object(d.a)(Routes,[{key:"render",value:function render(){return Object(n.jsx)(b.b,{history:U,children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{path:"/",exact:!0,component:SignIn}),Object(n.jsx)(b.a,{path:"/login",component:SignIn}),Object(n.jsx)(b.a,{path:"/register",component:SignUp}),Object(n.jsx)(b.a,{path:"/dashboard",component:Dashboard})]})})}}]),Routes}(i.Component);l.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(ze,{})})}),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.c2e2570e.chunk.js.map